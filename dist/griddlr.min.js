!function(t,e,n){var r,i,s;return s="Griddlr",i={debug:!1,property:"value",columns:12,classes:{row:"row",column:"col-xs-*"}},r=function(){function e(e,n){this.element=e,this.$element=t(this.element),this.settings=t.extend({},i,n),this._gutter=15,this._defaults=i,this._name=s,this.init()}return e.prototype.log=function(t){return this.settings.debug?console.log("% Griddlr: "+t):void 0},e.prototype.trigger=function(t,e){return e=!!e||"",t="griddlr."+t,this.$element.trigger(t,[this,e])},e.prototype.set=function(t,e){return this.settings[t]=e},e.prototype.init=function(){var e;return e=this,t(n).ready(function(){return e.trigger("init.before"),e.log("Initializing..."),e.createWrapper(),e.setupRows(),e.setupColumns(),e.bindResize(),e.trigger("init.after")})},e.prototype.createWrapper=function(){return this.log("Creating wrapper element..."),this.$element.wrapInner('<div class="griddlr-wrapper"></div>'),this.wrapper=this.$element.find(".griddlr-wrapper"),this.settings.debug&&this.wrapper.addClass("griddlr-debug"),this.wrapper.wrapInner('<div class="griddlr-content"></div>'),this.content=this.wrapper.find(".griddlr-content"),this.createDataElement()},e.prototype.createDataElement=function(){return this.log("Creating data element..."),this.dataElement=t('<div class="griddlr-data"></div>').appendTo(this.wrapper),this.dataRow=t("<div></div>").addClass(this.settings.classes.row),this.dataColumn=t("<div></div>").addClass(this.columnClass(this.settings.columns)),this.dataColumn.appendTo(this.dataRow),this.dataRow.appendTo(this.dataElement),this.collectData()},e.prototype.addRow=function(t){return t.addClass("griddlr-row"),t.append('<div class="griddlr-button griddlr-button-add">+</div>'),t.append('<div class="griddlr-button griddlr-button-remove">&times;</div>'),t.wrapInner('<div class="griddlr-row-inner"></div>')},e.prototype.setupRows=function(){var e;return e=this,this.content.find("."+this.settings.classes.row).each(function(){return e.addRow(t(this))})},e.prototype.getColumns=function(t){var e,n;return e=t.className.replace("griddlr-column","").trim(),n=this.settings.classes.column.replace("*",""),parseInt(e.replace(n,""))},e.prototype.drag=function(e){var r,i,s,o,d;return r=0,s=0,o=0,d=e,i=this.getColumns(e),t(n).on("mousedown",function(e){return d=e.target,r=1,o=e.offsetX,t("html").css("cursor","ew-resize")}),t(n).on("mousemove",function(t){return r&&o>t.offsetX?console.log(i):void 0}),t(n).on("mouseup",function(e){return r=0,s=0,t("html").css("cursor","")})},e.prototype.addColumn=function(t){return t.addClass("griddlr-column"),t.append('<div class="griddlr-button griddlr-button-remove">&times;</div>'),t.wrapInner('<div class="griddlr-column-inner"></div>')},e.prototype.bindColumn=function(e){var n;return n=e.innerWidth()-2*this._gutter,this.drag(e.get(0)),e.on("mousemove",function(e){return e.offsetX>=n?t("html").css("cursor","ew-resize"):t("html").css("cursor","")}),e.on("mouseleave",function(t){})},e.prototype.setupColumns=function(){var e;return e=this,this.content.find('[class^="'+this.columnClass('"]')).each(function(){return e.addColumn(t(this)),e.bindColumn(t(this))})},e.prototype.bindResize=function(){},e.prototype.collectData=function(){return this.log("Collecting data..."),this._gutter=parseInt(this.dataColumn.css("padding-left"))},e.prototype.columnClass=function(t){return this.settings.classes.column.replace("*",t)},e}(),t.fn[s]=function(e){return this.each(function(){return t.data(this,""+s)?void 0:t.data(this,""+s,new r(this,e))})}}(jQuery,window,document);